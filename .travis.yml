language: go

go:
  - 1.2

install:
  - mkdir -p deps/
  - cd deps
  - wget http://download.zeromq.org/zeromq-4.0.4.tar.gz
  - tar -xf zeromq-4.0.4.tar.gz
  - cd zeromq-4.0.4
  - ./configure --prefix=/usr
  - make
  - sudo make install
  - sudo ldconfig
  - cd ../
  - sudo apt-get install -y autoconf libtool automake build-essential libglib2.0-dev libprotobuf-c0-dev protobuf-c-compiler
  - git clone https://github.com/anchor/libmarquise
  - cd libmarquise
  - autoreconf -i
  - ./configure --prefix=/usr && make && make check 
  - sudo make install
  - cd ../..

env:
  - PATH=$GOPATH/bin:$PATH

script:
  - make all
